<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="app-build" content="20250915-1">
  <title>mammoths.network</title>
  <link rel="stylesheet" href="/client/styles/fonts.css?v=20250915-1">
  <!-- Deck.gl UMD loaded below; no PIXI -->
  <link rel="stylesheet" href="/client/styles/tokens.css?v=20250915-1">
  <link rel="stylesheet" href="/style.css?v=20250915-1">
</head>
<body>
  <header class="header">
    <div id="top-loader" class="top-loader" hidden></div>
    <div class="logo-wrap"><div class="logo">mammoths.network</div><span class="status-dot" aria-hidden="true"></span></div>
    <div></div>
    <input id="search" type="search" placeholder="0x… / ENS / TOKEN ID" class="header-search tooltipped" autocomplete="off" spellcheck="false" value="" data-tooltip="Search wallet (0x…), ENS, or token ID" title="Search wallet (0x…), ENS, or token ID">
    <div class="header-controls">
      <!-- preset buttons removed (views live in left panel) -->
      <div class="more">
        <button id="more-btn" class="btn btn--chip tooltipped" title="More" data-tooltip="MORE" aria-haspopup="menu" aria-expanded="false" aria-controls="more-panel"><span aria-hidden="true">•••</span></button>
        <div id="more-panel" class="more-panel" role="menu" hidden>
          <button class="menu-item" role="menuitem" tabindex="-1" data-action="scroll" data-target="edges">EDGE LAYERS</button>
          <button class="menu-item" role="menuitem" tabindex="-1" data-action="scroll" data-target="traits">TRAITS</button>
          <button class="menu-item" role="menuitem" tabindex="-1" data-action="ambient">AMBIENT EDGES</button>
        </div>
      </div>
      <!-- View selector moved to left panel -->
    </div>
  </header>
  <div class="main-container">
    <aside class="left-panel">
      <div class="controls-section">
        <!-- VIEW at top; header left-aligned like others -->
        <div class="view-selector panel-view" aria-label="Views" style="margin-bottom: var(--pad-12);">
          <label class="panel-title" style="text-align:left;" for="view">VIEW</label>
          <select id="view" aria-label="Views">
            <option value="ownership">OWNERSHIP NETWORK</option>
            <option value="trading">TRADING ACTIVITY</option>
            <option value="traits">TRAIT EXPLORER</option>
            <option value="whales">WHALE WATCH</option>
            <option value="health">COLLECTION HEALTH</option>
          </select>
        </div>
        <div class="mode-selector">
          <label for="mode">MODE</label>
          <select id="mode">
            <option value="holders">HOLDERS</option>
            <option value="transfers">TRANSFERS</option>
            <option value="traits">TRAITS</option>
            <option value="wallets">WALLETS</option>
          </select>
        </div>
        <div class="edge-controls">
          <label>EDGES</label>
          <input type="range" id="edges-slider" min="0" max="500" value="200">
          <span id="edge-count">200</span>
        </div>
        <div class="edge-controls" id="time-controls" style="margin-top: var(--pad-12);">
          <label>TIME</label>
          <input type="range" id="time-slider" min="0" max="100" value="100">
          <span id="time-label"></span>
        </div>
        <div class="layer-toggles" style="margin-top: var(--pad-12);">
          <h4>DISPLAY</h4>
          <div class="layer-toggle"><label>Ambient Edges</label><input type="checkbox" id="ambient-edges"></div>
          <div class="layer-toggle"><label>Whale Bubbles</label><input type="checkbox" id="layer-bubbles"></div>
          <div class="colors">
            <div><span class="sw sw--active"></span>Active</div>
            <div><span class="sw sw--whale"></span>Whale</div>
            <div><span class="sw sw--frozen"></span>Frozen</div>
            <div><span class="sw sw--dormant"></span>Dormant</div>
          </div>
        </div>
        
        <!-- Focus removed -->
        <!-- legend removed (dynamic UI already conveys meaning) -->
        <div class="edge-groups">
          <div class="edge-group" data-group="relationships">
            <div class="edge-group-header" role="button" tabindex="0" aria-expanded="false" aria-controls="relationships-body">RELATIONSHIPS <span class="twist">▶</span></div>
            <div id="relationships-body" class="edge-group-body">
              <div class="layer-toggle"><label>Ownership</label><input type="checkbox" id="layer-ownership"></div>
              <div class="layer-toggle"><label>Rare Traits</label><input type="checkbox" id="layer-traits"></div>
            </div>
          </div>
          <div class="edge-group" data-group="transactions">
            <div class="edge-group-header" role="button" tabindex="0" aria-expanded="false" aria-controls="transactions-body">TRANSACTIONS <span class="twist">▶</span></div>
            <div id="transactions-body" class="edge-group-body">
              <div class="layer-toggle"><label>Recent Trades</label><input type="checkbox" id="layer-trades"></div>
              <div class="layer-toggle"><label>Sales</label><input type="checkbox" id="layer-sales"></div>
              <div class="layer-toggle"><label>Transfers</label><input type="checkbox" id="layer-transfers"></div>
              <div class="layer-toggle"><label>Mints</label><input type="checkbox" id="layer-mints"></div>
            </div>
          </div>
          <div class="edge-group" data-group="analysis">
            <div class="edge-group-header" role="button" tabindex="0" aria-expanded="false" aria-controls="analysis-body">ANALYSIS <span class="twist">▶</span></div>
            <div id="analysis-body" class="edge-group-body">
              <div class="layer-toggle"><label>High Value</label><input type="checkbox" id="layer-value"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="traits-section">
        <div class="panel-title traits-header" role="button" tabindex="0" aria-expanded="false" aria-controls="traits-body"><span class="twist">▶</span> TRAITS</div>
        <div id="traits-body" class="traits-body">
          <button id="clear-filters" class="btn btn--preset preset-btn" style="width:100%;margin-bottom: var(--pad-12);">CLEAR FILTERS</button>
          <div id="traits-container"></div>
        </div>
      </div>
    </aside>
    <div class="center-panel"></div>
    <aside class="right-panel" id="sidebar">
      <img id="thumb" alt="thumb" style="display:none">
      <div id="details">Select a node…</div>
    </aside>
  </div>
  <!-- Deck.gl UMD (local, works offline/headless) -->
  <script src="/lib/deck.gl/dist.min.js"></script>
  <script src="/lib/@deck.gl/geo-layers/dist.min.js"></script>
  <!-- Engine loader (loads Deck UMDs + app bundle) -->
  <script src="/engine.js?v=20250915-1"></script>
</body>
</html>
